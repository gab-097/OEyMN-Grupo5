<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Usuario</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        .hidden { display: none; }
        .toggle-switch {
            position: relative;
            width: 4rem;
            height: 2rem;
            border-radius: 9999px;
            transition: all 0.3s;
            cursor: pointer;
        }
        .toggle-circle {
            position: absolute;
            top: 0.25rem;
            width: 1.5rem;
            height: 1.5rem;
            background: white;
            border-radius: 9999px;
            transition: all 0.3s;
        }
        .toggle-active { background: #10b981; }
        .toggle-inactive { background: #d1d5db; }
        .toggle-circle-active { right: 0.25rem; }
        .toggle-circle-inactive { left: 0.25rem; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <!-- Selecci√≥n de Tipo de Usuario -->
    <div id="userSelection" class="min-h-screen bg-gradient-to-br from-blue-50 to-teal-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-gradient-to-br from-blue-500 to-teal-500 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-4xl">
                    ‚≠ê
                </div>
                <h1 class="text-3xl font-bold text-gray-800 mb-2">Estrella Andina</h1>
                <p class="text-gray-600">Iluminamos el camino del cuidado</p>
            </div>
            
            <div class="space-y-4">
                <button onclick="selectUserType('patient')" class="w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-4 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all shadow-lg">
                    Soy Paciente
                </button>
                
                <button onclick="selectUserType('nurse')" class="w-full bg-gradient-to-r from-teal-500 to-teal-600 text-white py-4 rounded-xl font-semibold hover:from-teal-600 hover:to-teal-700 transition-all shadow-lg">
                    Soy Enfermero/a
                </button>
            </div>
        </div>
    </div>

    <!-- Vista Principal del Paciente -->
    <div id="patientHome" class="hidden pb-20">
        <div class="bg-gradient-to-r from-blue-500 to-teal-500 p-6 rounded-b-3xl shadow-lg">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-2xl font-bold text-white">Estrella Andina</h1>
                <span class="text-white text-3xl">üë§</span>
            </div>
            
            <div class="bg-white/20 backdrop-blur-sm rounded-xl p-4 text-white">
                <p class="text-sm opacity-90">Bienvenido/a</p>
                <p class="text-xl font-semibold">Usuario Demo</p>
            </div>
        </div>

        <div class="mx-4 -mt-4 bg-red-500 text-white p-4 rounded-xl shadow-lg flex items-center justify-between">
            <div class="flex items-center gap-3">
                <span class="text-2xl">üìû</span>
                <div>
                    <p class="font-semibold">Emergencia 24/7</p>
                    <p class="text-sm opacity-90">L√≠nea directa disponible</p>
                </div>
            </div>
        </div>

        <div class="p-4">
            <h2 class="text-xl font-bold text-gray-800 mb-4">Servicios</h2>
            <div class="grid grid-cols-2 gap-4">
                <button onclick="showRequestService('Curaciones')" class="bg-white p-4 rounded-2xl shadow-md hover:shadow-xl transition-all">
                    <div class="text-4xl mb-2">ü©π</div>
                    <p class="font-semibold text-gray-800">Curaciones</p>
                    <p class="text-xs text-gray-500 mt-1">Curaciones profesionales</p>
                </button>
                <button onclick="showRequestService('Control Vital')" class="bg-white p-4 rounded-2xl shadow-md hover:shadow-xl transition-all">
                    <div class="text-4xl mb-2">‚ù§Ô∏è</div>
                    <p class="font-semibold text-gray-800">Control Vital</p>
                    <p class="text-xs text-gray-500 mt-1">Control de signos vitales</p>
                </button>
                <button onclick="showRequestService('Medicaci√≥n')" class="bg-white p-4 rounded-2xl shadow-md hover:shadow-xl transition-all">
                    <div class="text-4xl mb-2">üíâ</div>
                    <p class="font-semibold text-gray-800">Medicaci√≥n</p>
                    <p class="text-xs text-gray-500 mt-1">Administraci√≥n de medicamentos</p>
                </button>
                <button onclick="showRequestService('Acompa√±amiento')" class="bg-white p-4 rounded-2xl shadow-md hover:shadow-xl transition-all">
                    <div class="text-4xl mb-2">ü§ù</div>
                    <p class="font-semibold text-gray-800">Acompa√±amiento</p>
                    <p class="text-xs text-gray-500 mt-1">Cuidado de pacientes cr√≥nicos</p>
                </button>
            </div>
        </div>

        <div class="p-4">
            <h2 class="text-xl font-bold text-gray-800 mb-4">Tips de Bienestar</h2>
            <div class="bg-gradient-to-r from-teal-400 to-blue-400 p-4 rounded-2xl text-white">
                <p class="font-semibold mb-2">üíß Consejo del d√≠a</p>
                <p class="text-sm">Mant√©n una hidrataci√≥n adecuada bebiendo al menos 2 litros de agua al d√≠a.</p>
            </div>
        </div>
    </div>

    <!-- Vista Principal del Enfermero -->
    <div id="nurseHome" class="hidden pb-20">
        <div class="bg-gradient-to-r from-teal-500 to-emerald-500 p-6 rounded-b-3xl shadow-lg">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-2xl font-bold text-white">Estrella Andina Pro</h1>
                <span class="text-white text-3xl">üë§</span>
            </div>
            
            <div class="bg-white/20 backdrop-blur-sm rounded-xl p-4 text-white">
                <p class="text-sm opacity-90">Enfermera Profesional</p>
                <p class="text-xl font-semibold">Mar√≠a Gonz√°lez</p>
                <div class="flex items-center gap-2 mt-2">
                    <span class="text-yellow-300">‚≠ê</span>
                    <span>4.9 ‚Ä¢ 127 atenciones</span>
                </div>
            </div>
        </div>

        <div class="mx-4 -mt-4 bg-white p-4 rounded-xl shadow-lg">
            <div class="flex items-center justify-between">
                <div>
                    <p class="font-semibold text-gray-800">Disponibilidad</p>
                    <p class="text-sm text-gray-600" id="availabilityText">Activo</p>
                </div>
                <div onclick="toggleAvailability()" class="toggle-switch toggle-active" id="toggleSwitch">
                    <div class="toggle-circle toggle-circle-active" id="toggleCircle"></div>
                </div>
            </div>
        </div>

        <div class="p-4">
            <h2 class="text-xl font-bold text-gray-800 mb-4">Resumen de Hoy</h2>
            <div class="grid grid-cols-3 gap-3">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 p-4 rounded-xl text-white text-center">
                    <p class="text-3xl font-bold">5</p>
                    <p class="text-sm opacity-90">Atenciones</p>
                </div>
                <div class="bg-gradient-to-br from-emerald-500 to-emerald-600 p-4 rounded-xl text-white text-center">
                    <p class="text-3xl font-bold">$8.5k</p>
                    <p class="text-sm opacity-90">Ingresos</p>
                </div>
                <div class="bg-gradient-to-br from-amber-500 to-amber-600 p-4 rounded-xl text-white text-center">
                    <p class="text-3xl font-bold">4.9</p>
                    <p class="text-sm opacity-90">Rating</p>
                </div>
            </div>
        </div>

        <div class="p-4">
            <h2 class="text-xl font-bold text-gray-800 mb-4">Solicitudes Nuevas</h2>
            
            <div class="bg-white p-4 rounded-2xl shadow-md mb-3 border-l-4 border-red-500">
                <div class="flex items-center justify-between mb-3">
                    <span class="bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-semibold">URGENTE</span>
                    <span class="text-gray-500 text-sm">Hace 5 min</span>
                </div>
                <h3 class="font-semibold text-gray-800 mb-1">Control de Signos Vitales</h3>
                <p class="text-sm text-gray-600 mb-2">Juan Ram√≠rez (67 a√±os)</p>
                <div class="flex items-center gap-2 text-sm text-gray-500 mb-3">
                    <span>üìç</span>
                    <span>Barrio Centro - 1.2 km</span>
                </div>
                <div class="flex gap-2">
                    <button class="flex-1 bg-gradient-to-r from-teal-500 to-emerald-500 text-white py-2 rounded-lg font-semibold">
                        Aceptar
                    </button>
                    <button class="flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold">
                        Rechazar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Vista de Solicitud de Servicio -->
    <div id="requestService" class="hidden pb-20">
        <div class="bg-gradient-to-r from-blue-500 to-teal-500 p-6 rounded-b-3xl shadow-lg mb-4">
            <button onclick="showView('patientHome')" class="text-white mb-4">‚Üê Volver</button>
            <h1 class="text-2xl font-bold text-white">Solicitar Servicio</h1>
            <p class="text-white/90" id="serviceName"></p>
        </div>

        <div class="p-4 space-y-4">
            <div class="bg-white p-4 rounded-2xl shadow-md">
                <h3 class="font-semibold text-gray-800 mb-3">Detalles</h3>
                
                <div class="space-y-3">
                    <div>
                        <label class="text-sm text-gray-600 block mb-1">Urgencia</label>
                        <select class="w-full p-3 border border-gray-200 rounded-xl">
                            <option>Leve</option>
                            <option>Moderada</option>
                            <option>Alta</option>
                        </select>
                    </div>

                    <div>
                        <label class="text-sm text-gray-600 block mb-1">Preferencia</label>
                        <select class="w-full p-3 border border-gray-200 rounded-xl">
                            <option>Sin preferencia</option>
                            <option>Femenino</option>
                            <option>Masculino</option>
                        </select>
                    </div>

                    <div>
                        <label class="text-sm text-gray-600 block mb-1">Direcci√≥n</label>
                        <input type="text" placeholder="Ingrese su direcci√≥n" class="w-full p-3 border border-gray-200 rounded-xl">
                    </div>
                </div>
            </div>

            <div class="bg-white p-4 rounded-2xl shadow-md">
                <h3 class="font-semibold text-gray-800 mb-3">Profesionales Cercanos</h3>
                
                <div class="p-3 border rounded-xl mb-2 border-green-200 bg-green-50">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-semibold text-gray-800">Mar√≠a Gonz√°lez</p>
                            <p class="text-xs text-gray-600">Enfermer√≠a General</p>
                            <div class="flex items-center gap-2 mt-1 text-xs">
                                <span>‚≠ê 4.9</span>
                                <span>üìç 1.2 km</span>
                            </div>
                        </div>
                        <button class="bg-green-500 text-white px-4 py-2 rounded-lg text-sm">Seleccionar</button>
                    </div>
                </div>

                <div class="p-3 border rounded-xl mb-2 border-green-200 bg-green-50">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-semibold text-gray-800">Juan P√©rez</p>
                            <p class="text-xs text-gray-600">Cuidados Intensivos</p>
                            <div class="flex items-center gap-2 mt-1 text-xs">
                                <span>‚≠ê 4.8</span>
                                <span>üìç 2.5 km</span>
                            </div>
                        </div>
                        <button class="bg-green-500 text-white px-4 py-2 rounded-lg text-sm">Seleccionar</button>
                    </div>
                </div>

                <div class="p-3 border rounded-xl mb-2 border-gray-200 bg-gray-50">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="font-semibold text-gray-800">Ana Mart√≠nez</p>
                            <p class="text-xs text-gray-600">Pediatr√≠a</p>
                            <div class="flex items-center gap-2 mt-1 text-xs">
                                <span>‚≠ê 5.0</span>
                                <span>üìç 3.1 km</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <button class="w-full bg-gradient-to-r from-blue-500 to-teal-500 text-white py-4 rounded-xl font-semibold">
                Confirmar Solicitud
            </button>
        </div>
    </div>

    <!-- Vista de Citas del Paciente -->
    <div id="patientAppointments" class="hidden pb-20">
        <div class="bg-gradient-to-r from-blue-500 to-teal-500 p-6 rounded-b-3xl shadow-lg mb-4">
            <h1 class="text-2xl font-bold text-white">Mis Citas</h1>
        </div>

        <div class="p-4 space-y-4">
            <div class="bg-white p-4 rounded-2xl shadow-md">
                <div class="flex items-center justify-between mb-2">
                    <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-semibold">Confirmada</span>
                    <span class="text-gray-500 text-sm">Hoy, 15:30</span>
                </div>
                <h3 class="font-semibold text-gray-800 mb-1">Control de Signos Vitales</h3>
                <p class="text-sm text-gray-600">Enf. Mar√≠a Gonz√°lez</p>
                <p class="text-sm text-gray-500 mt-2 flex items-center gap-1">
                    üìç Av. Principal 123
                </p>
                <button class="w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold mt-3">
                    Ver Detalles
                </button>
            </div>

            <div class="bg-white p-4 rounded-2xl shadow-md">
                <div class="flex items-center justify-between mb-2">
                    <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-semibold">Pendiente</span>
                    <span class="text-gray-500 text-sm">Ma√±ana, 10:00</span>
                </div>
                <h3 class="font-semibold text-gray-800 mb-1">Curaci√≥n</h3>
                <p class="text-sm text-gray-600">Enf. Juan P√©rez</p>
                <p class="text-sm text-gray-500 mt-2 flex items-center gap-1">
                    üìç Av. Principal 123
                </p>
                <button class="w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold mt-3">
                    Ver Detalles
                </button>
            </div>

            <div class="bg-white p-4 rounded-2xl shadow-md">
                <div class="flex items-center justify-between mb-2">
                    <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-semibold">Completada</span>
                    <span class="text-gray-500 text-sm">Ayer, 14:00</span>
                </div>
                <h3 class="font-semibold text-gray-800 mb-1">Administraci√≥n de Medicaci√≥n</h3>
                <p class="text-sm text-gray-600">Enf. Ana Mart√≠nez</p>
                <div class="flex items-center gap-1 mt-2">
                    <span>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                    <span class="text-sm text-gray-600 ml-2">Ya calificado</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Vista de Citas del Enfermero -->
    <div id="nurseAppointments" class="hidden pb-20">
        <div class="bg-gradient-to-r from-teal-500 to-emerald-500 p-6 rounded-b-3xl shadow-lg mb-4">
            <h1 class="text-2xl font-bold text-white">Mi Agenda</h1>
            <p class="text-white/90 text-sm mt-1">Atenciones programadas</p>
        </div>

        <div class="p-4 space-y-4">
            <div class="bg-white p-4 rounded-2xl shadow-md border-l-4 border-green-500">
                <div class="flex items-center justify-between mb-3">
                    <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold">PR√ìXIMA</span>
                    <span class="text-gray-500 text-sm font-semibold">15:30</span>
                </div>
                <h3 class="font-semibold text-gray-800 mb-1">Control de Signos Vitales</h3>
                <p class="text-sm text-gray-600 mb-2">Carlos M√©ndez (58 a√±os)</p>
                <div class="flex items-center gap-2 text-sm text-gray-500 mb-3">
                    <span>üìç</span>
                    <span>Barrio Centro, Av. Libertad 456 - 1.2 km</span>
                </div>
                <div class="flex gap-2">
                    <button class="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2 rounded-lg font-semibold">
                        üìç Ver Ruta
                    </button>
                    <button class="flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg font-semibold">
                        Contactar
                    </button>
                </div>
            </div>

            <div class="bg-white p-4 rounded-2xl shadow-md border-l-4 border-blue-500">
                <div class="flex items-center justify-between mb-3">
                    <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold">PENDIENTE</span>
                    <span class="text-gray-500 text-sm font-semibold">17:00</span>
                </div>
                <h3 class="font-semibold text-gray-800 mb-1">Administraci√≥n de Medicaci√≥n</h3>
                <p class="text-sm text-gray-600 mb-2">Rosa Fern√°ndez (72 a√±os)</p>
                <div class="flex items-center gap-2 text-sm text-gray-500 mb-3">
                    <span>üìç</span>
                    <span>Barrio Alto Comedero, Calle 12 #789 - 3.5 km</span>
                </div>
                <div class="flex gap-2">
                    <button class="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2 rounded-lg font-semibold">
                        üìç Ver Ruta
                    </button>
                    <button class="flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg font-semibold">
                        Contactar
                    </button>
                </div>
            </div>

            <div class="bg-white p-4 rounded-2xl shadow-md border-l-4 border-purple-500">
                <div class="flex items-center justify-between mb-3">
                    <span class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-semibold">PROGRAMADA</span>
                    <span class="text-gray-500 text-sm font-semibold">Ma√±ana 10:00</span>
                </div>
                <h3 class="font-semibold text-gray-800 mb-1">Curaci√≥n</h3>
                <p class="text-sm text-gray-600 mb-2">Luis Ram√≠rez (45 a√±os)</p>
                <div class="flex items-center gap-2 text-sm text-gray-500 mb-3">
                    <span>üìç</span>
                    <span>Barrio San Pedrito, Pasaje 3 #234 - 2.1 km</span>
                </div>
                <button class="w-full bg-purple-50 text-purple-600 py-2 rounded-lg text-sm font-semibold">
                    Ver Detalles
                </button>
            </div>
        </div>
    </div>

    <!-- Vista de Tienda -->
    <div id="store" class="hidden pb-20">
        <div class="p-6 rounded-b-3xl shadow-lg mb-4" id="storeHeader">
            <h1 class="text-2xl font-bold text-white">Tienda de Salud</h1>
            <div class="mt-4 relative">
                <span class="absolute left-3 top-3 text-gray-400">üîç</span>
                <input type="text" placeholder="Buscar productos..." class="w-full pl-10 pr-4 py-3 rounded-xl">
            </div>
        </div>

        <div class="p-4">
            <h2 class="text-lg font-bold text-gray-800 mb-3">Productos Destacados</h2>
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-white p-4 rounded-2xl shadow-md">
                    <div class="text-5xl mb-3 text-center">üè•</div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-2">Kit de Autocuidado</h3>
                    <p class="text-blue-600 font-bold text-lg mb-3">$4500</p>
                    <button class="w-full text-white py-2 rounded-lg text-sm font-semibold" id="addBtn1">Agregar</button>
                </div>
                <div class="bg-white p-4 rounded-2xl shadow-md">
                    <div class="text-5xl mb-3 text-center">ü©∫</div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-2">Tensi√≥metro Digital</h3>
                    <p class="text-blue-600 font-bold text-lg mb-3">$8900</p>
                    <button class="w-full text-white py-2 rounded-lg text-sm font-semibold" id="addBtn2">Agregar</button>
                </div>
                <div class="bg-white p-4 rounded-2xl shadow-md">
                    <div class="text-5xl mb-3 text-center">üå°Ô∏è</div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-2">Term√≥metro Infrarrojo</h3>
                    <p class="text-blue-600 font-bold text-lg mb-3">$3200</p>
                    <button class="w-full text-white py-2 rounded-lg text-sm font-semibold" id="addBtn3">Agregar</button>
                </div>
                <div class="bg-white p-4 rounded-2xl shadow-md">
                    <div class="text-5xl mb-3 text-center">üìä</div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-2">Ox√≠metro</h3>
                    <p class="text-blue-600 font-bold text-lg mb-3">$5600</p>
                    <button class="w-full text-white py-2 rounded-lg text-sm font-semibold" id="addBtn4">Agregar</button>
                </div>
            </div>

            <div class="mt-6">
                <h2 class="text-xl font-bold text-gray-800" id="profileName"></h2>
                <p class="text-gray-600" id="profileEmail"></p>
                <div id="profileRating" class="hidden flex items-center justify-center gap-2 mt-2">
                    <span>‚≠ê</span>
                    <span>4.9 (127 rese√±as)</span>
                </div>
            </div>

            <div id="nurseSpecialties" class="hidden bg-white p-4 rounded-2xl shadow-md">
                <h3 class="font-semibold text-gray-800 mb-3">Especialidades</h3>
                <div class="flex flex-wrap gap-2">
                    <span class="bg-teal-100 text-teal-700 px-3 py-1 rounded-full text-sm">Enfermer√≠a General</span>
                    <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm">Cuidados Intensivos</span>
                    <span class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm">Geriatr√≠a</span>
                </div>
            </div>

            <div id="nurseIncome" class="hidden bg-gradient-to-br from-emerald-500 to-teal-600 p-6 rounded-2xl text-white">
                <h3 class="font-semibold mb-4">Ingresos del Mes</h3>
                <p class="text-4xl font-bold">$35.800</p>
                <p class="text-sm opacity-90 mt-1">Neto despu√©s de comisiones</p>
            </div>
        </div>
    </div>

    <!-- ChatBot -->
    <div id="chatBot" class="hidden fixed bottom-20 right-4 w-80 bg-white rounded-2xl shadow-2xl h-96">
        <div class="bg-gradient-to-r from-blue-500 to-teal-500 p-4 rounded-t-2xl flex justify-between items-center">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-white rounded-full flex items-center justify-center">
                    üí¨
                </div>
                <span class="text-white font-semibold">Asistente Virtual</span>
            </div>
            <button onclick="toggleChat()">
                <span class="text-white text-xl">‚úï</span>
            </button>
        </div>
        
        <div class="p-4 space-y-3 h-72 overflow-y-auto">
            <div class="bg-gray-100 p-3 rounded-lg">
                <p class="text-sm">¬°Hola! ¬øEn qu√© puedo ayudarte?</p>
            </div>
            
            <div class="space-y-2">
                <button class="w-full text-left bg-blue-50 hover:bg-blue-100 p-2 rounded-lg text-sm transition-colors">
                    üìã Ver cartilla m√©dica
                </button>
                <button class="w-full text-left bg-blue-50 hover:bg-blue-100 p-2 rounded-lg text-sm transition-colors">
                    üí≥ Mi tarjeta virtual
                </button>
                <button class="w-full text-left bg-blue-50 hover:bg-blue-100 p-2 rounded-lg text-sm transition-colors">
                    üéÅ Promociones y planes
                </button>
            </div>
        </div>
    </div>

    <!-- Barra de Navegaci√≥n -->
    <div id="navBar" class="hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 shadow-lg z-50">
        <div class="flex justify-around items-center">
            <button onclick="showView('home')" class="flex flex-col items-center p-2" id="navHome">
                <span class="text-2xl">üè†</span>
                <span class="text-xs mt-1">Inicio</span>
            </button>
            
            <button onclick="showView('appointments')" class="flex flex-col items-center p-2" id="navAppointments">
                <span class="text-2xl">üìÖ</span>
                <span class="text-xs mt-1" id="navAppointmentsText">Citas</span>
            </button>

            <button onclick="showView('store')" class="flex flex-col items-center p-2" id="navStore">
                <span class="text-2xl">üõçÔ∏è</span>
                <span class="text-xs mt-1">Tienda</span>
            </button>
            
            <button onclick="toggleChat()" class="flex flex-col items-center p-2" id="navChat">
                <span class="text-2xl">üí¨</span>
                <span class="text-xs mt-1">Chat</span>
            </button>
            
            <button onclick="showView('profile')" class="flex flex-col items-center p-2" id="navProfile">
                <span class="text-2xl">üë§</span>
                <span class="text-xs mt-1">Perfil</span>
            </button>
        </div>
    </div>

    <!-- Bot√≥n de Emergencia -->
    <button id="emergencyBtn" class="hidden fixed bottom-24 right-4 w-14 h-14 text-white rounded-full shadow-2xl flex items-center justify-center z-40 text-2xl">
        üìû
    </button>

    <script>
        let userType = null;
        let currentView = 'home';
        let chatOpen = false;
        let nurseAvailable = true;
        let selectedService = '';

        function selectUserType(type) {
            userType = type;
            document.getElementById('userSelection').classList.add('hidden');
            document.getElementById('navBar').classList.remove('hidden');
            document.getElementById('emergencyBtn').classList.remove('hidden');
            
            if (type === 'patient') {
                document.getElementById('emergencyBtn').classList.add('bg-red-500');
                document.getElementById('patientHome').classList.remove('hidden');
                updateNavColors('patient');
            } else {
                document.getElementById('emergencyBtn').classList.add('bg-teal-500');
                document.getElementById('nurseHome').classList.remove('hidden');
                document.getElementById('navAppointmentsText').textContent = 'Agenda';
                updateNavColors('nurse');
            }
        }

        function showView(view) {
            // Ocultar todas las vistas
            document.getElementById('patientHome').classList.add('hidden');
            document.getElementById('nurseHome').classList.add('hidden');
            document.getElementById('requestService').classList.add('hidden');
            document.getElementById('patientAppointments').classList.add('hidden');
            document.getElementById('nurseAppointments').classList.add('hidden');
            document.getElementById('store').classList.add('hidden');
            document.getElementById('profile').classList.add('hidden');

            currentView = view;

            // Mostrar la vista correspondiente
            if (view === 'home') {
                if (userType === 'patient') {
                    document.getElementById('patientHome').classList.remove('hidden');
                } else {
                    document.getElementById('nurseHome').classList.remove('hidden');
                }
            } else if (view === 'appointments') {
                if (userType === 'patient') {
                    document.getElementById('patientAppointments').classList.remove('hidden');
                } else {
                    document.getElementById('nurseAppointments').classList.remove('hidden');
                }
            } else if (view === 'store') {
                document.getElementById('store').classList.remove('hidden');
                updateStoreColors();
            } else if (view === 'profile') {
                document.getElementById('profile').classList.remove('hidden');
                updateProfileView();
            }

            updateNavColors(userType);
        }

        function showRequestService(service) {
            selectedService = service;
            document.getElementById('serviceName').textContent = service;
            document.getElementById('patientHome').classList.add('hidden');
            document.getElementById('requestService').classList.remove('hidden');
            currentView = 'request';
        }

        function updateNavColors(type) {
            const color = type === 'nurse' ? 'text-teal-500' : 'text-blue-500';
            const defaultColor = 'text-gray-400';

            document.getElementById('navHome').className = `flex flex-col items-center p-2 ${currentView === 'home' ? color : defaultColor}`;
            document.getElementById('navAppointments').className = `flex flex-col items-center p-2 ${currentView === 'appointments' ? color : defaultColor}`;
            document.getElementById('navStore').className = `flex flex-col items-center p-2 ${currentView === 'store' ? color : defaultColor}`;
            document.getElementById('navChat').className = `flex flex-col items-center p-2 ${chatOpen ? color : defaultColor}`;
            document.getElementById('navProfile').className = `flex flex-col items-center p-2 ${currentView === 'profile' ? color : defaultColor}`;
        }

        function updateStoreColors() {
            const header = document.getElementById('storeHeader');
            const buttons = ['addBtn1', 'addBtn2', 'addBtn3', 'addBtn4'];
            
            if (userType === 'nurse') {
                header.className = 'bg-gradient-to-r from-teal-500 to-emerald-500 p-6 rounded-b-3xl shadow-lg mb-4';
                buttons.forEach(id => {
                    document.getElementById(id).className = 'w-full bg-gradient-to-r from-teal-500 to-emerald-500 text-white py-2 rounded-lg text-sm font-semibold';
                });
            } else {
                header.className = 'bg-gradient-to-r from-blue-500 to-teal-500 p-6 rounded-b-3xl shadow-lg mb-4';
                buttons.forEach(id => {
                    document.getElementById(id).className = 'w-full bg-gradient-to-r from-blue-500 to-teal-500 text-white py-2 rounded-lg text-sm font-semibold';
                });
            }
        }

        function updateProfileView() {
            const header = document.getElementById('profileHeader');
            const avatar = document.getElementById('profileAvatar');
            const name = document.getElementById('profileName');
            const email = document.getElementById('profileEmail');
            const rating = document.getElementById('profileRating');
            const specialties = document.getElementById('nurseSpecialties');
            const income = document.getElementById('nurseIncome');

            if (userType === 'nurse') {
                header.className = 'bg-gradient-to-r from-teal-500 to-emerald-500 p-6 rounded-b-3xl shadow-lg mb-4';
                avatar.className = 'w-24 h-24 bg-gradient-to-br from-teal-400 to-emerald-400 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-3xl font-bold';
                avatar.textContent = 'MG';
                name.textContent = 'Mar√≠a Gonz√°lez';
                email.textContent = 'Enfermera Profesional';
                rating.classList.remove('hidden');
                rating.classList.add('flex');
                specialties.classList.remove('hidden');
                income.classList.remove('hidden');
            } else {
                header.className = 'bg-gradient-to-r from-blue-500 to-teal-500 p-6 rounded-b-3xl shadow-lg mb-4';
                avatar.className = 'w-24 h-24 bg-gradient-to-br from-blue-400 to-teal-400 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-3xl font-bold';
                avatar.textContent = 'U';
                name.textContent = 'Usuario Demo';
                email.textContent = 'usuario@email.com';
                rating.classList.add('hidden');
                specialties.classList.add('hidden');
                income.classList.add('hidden');
            }
        }

        function toggleChat() {
            chatOpen = !chatOpen;
            if (chatOpen) {
                document.getElementById('chatBot').classList.remove('hidden');
            } else {
                document.getElementById('chatBot').classList.add('hidden');
            }
            updateNavColors(userType);
        }

        function toggleAvailability() {
            nurseAvailable = !nurseAvailable;
            const toggle = document.getElementById('toggleSwitch');
            const circle = document.getElementById('toggleCircle');
            const text = document.getElementById('availabilityText');

            if (nurseAvailable) {
                toggle.classList.remove('toggle-inactive');
                toggle.classList.add('toggle-active');
                circle.classList.remove('toggle-circle-inactive');
                circle.classList.add('toggle-circle-active');
                text.textContent = 'Activo';
            } else {
                toggle.classList.remove('toggle-active');
                toggle.classList.add('toggle-inactive');
                circle.classList.remove('toggle-circle-active');
                circle.classList.add('toggle-circle-inactive');
                text.textContent = 'Inactivo';
            }
        }
    </script>
</body>


    <!-- Vista de Perfil -->
    <div id="profile" class="hidden pb-20">
        <div class="p-6 rounded-b-3xl shadow-lg mb-4" id="profileHeader">
            <h1 class="text-2xl font-bold text-white">Mi Perfil</h1>
        </div>

        <div class="p-4 space-y-4">
            <div class="bg-white p-6 rounded-2xl shadow-md text-center">
                <div class="w-24 h-24 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-3xl font-bold" id="profileAvatar"></div>
                <h2 class="text-